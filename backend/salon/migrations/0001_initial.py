# Generated by Django 5.2.4 on 2025-10-26 09:17

import django.core.validators
import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Address',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=50, verbose_name='عنوان العنوان')),
                ('address', models.TextField(verbose_name='العنوان التفصيلي')),
                ('latitude', models.DecimalField(blank=True, decimal_places=7, max_digits=10, null=True, verbose_name='خط العرض')),
                ('longitude', models.DecimalField(blank=True, decimal_places=7, max_digits=10, null=True, verbose_name='خط الطول')),
                ('is_default', models.BooleanField(default=False, verbose_name='افتراضي')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'عنوان',
                'verbose_name_plural': 'العناوين',
                'ordering': ['-is_default', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BlogCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الفئة')),
                ('name_en', models.CharField(max_length=100, verbose_name='اسم الفئة بالإنجليزية')),
                ('description', models.TextField(blank=True, verbose_name='وصف الفئة')),
                ('description_en', models.TextField(blank=True, verbose_name='وصف الفئة بالإنجليزية')),
                ('color', models.CharField(default='#B89F67', help_text='لون الفئة (مثل #B89F67)', max_length=7, verbose_name='اللون')),
                ('icon', models.CharField(blank=True, max_length=50, verbose_name='أيقونة')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشطة')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='ترتيب العرض')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'فئة المدونة',
                'verbose_name_plural': 'فئات المدونة',
                'ordering': ['order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Category',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الفئة')),
                ('name_en', models.CharField(max_length=100, verbose_name='اسم الفئة بالإنجليزية')),
                ('slug_en', models.SlugField(blank=True, help_text='سيتم إنشاؤه تلقائياً من الاسم الإنجليزي', max_length=100, null=True, unique=True, verbose_name='الرابط الإنجليزي')),
                ('description', models.TextField(verbose_name='وصف الفئة')),
                ('description_en', models.TextField(verbose_name='وصف الفئة بالإنجليزية')),
                ('icon', models.CharField(blank=True, max_length=50, verbose_name='أيقونة')),
                ('image', models.ImageField(blank=True, null=True, upload_to='categories/', verbose_name='صورة الفئة')),
                ('primary_color', models.CharField(default='#B89F67', help_text='لون الزر الأساسي لهذه الفئة (مثل #B89F67)', max_length=7, verbose_name='اللون الأساسي')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشطة')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='ترتيب العرض')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'فئة',
                'verbose_name_plural': 'الفئات',
                'ordering': ['order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Config',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('slot_duration', models.PositiveIntegerField(help_text='Minimum time for an appointment in minutes, recommended 30.', null=True, verbose_name='Slot Duration (minutes)')),
                ('lead_time', models.TimeField(help_text='Time when the salon starts working.', null=True, verbose_name='Lead Time')),
                ('finish_time', models.TimeField(help_text='Time when the salon stops working.', null=True, verbose_name='Finish Time')),
                ('appointment_buffer_time', models.FloatField(help_text='Time between now and the first available slot for the current day.', null=True, verbose_name='Appointment Buffer Time (minutes)')),
                ('website_name', models.CharField(default='صالون Glammy', help_text='Name of your salon website.', max_length=255, verbose_name='Website Name')),
                ('default_reschedule_limit', models.PositiveIntegerField(default=3, help_text='Default maximum number of times an appointment can be rescheduled.', verbose_name='Default Reschedule Limit')),
                ('allow_staff_change_on_reschedule', models.BooleanField(default=True, help_text='Allows clients to change the staff member when rescheduling.', verbose_name='Allow Staff Change on Reschedule')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
            ],
            options={
                'verbose_name': 'Configuration',
                'verbose_name_plural': 'Configurations',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Contact',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='الاسم')),
                ('email', models.EmailField(max_length=254, verbose_name='البريد الإلكتروني')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='رقم الهاتف')),
                ('subject', models.CharField(blank=True, max_length=200, verbose_name='موضوع الرسالة')),
                ('message', models.TextField(verbose_name='الرسالة')),
                ('is_read', models.BooleanField(default=False, verbose_name='تم القراءة')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإرسال')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
            ],
            options={
                'verbose_name': 'رسالة تواصل',
                'verbose_name_plural': 'رسائل التواصل',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ContactInfo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('phone_number', models.CharField(default='+966 55 123 4567', max_length=20, verbose_name='رقم الهاتف')),
                ('phone_number_en', models.CharField(blank=True, max_length=20, verbose_name='رقم الهاتف بالإنجليزية')),
                ('location', models.CharField(default='الرياض، المملكة العربية السعودية', max_length=200, verbose_name='الموقع')),
                ('location_en', models.CharField(blank=True, max_length=200, verbose_name='الموقع بالإنجليزية')),
                ('working_hours', models.CharField(default='الأحد - الخميس: 10ص - 8م', max_length=100, verbose_name='ساعات العمل')),
                ('working_hours_en', models.CharField(blank=True, max_length=100, verbose_name='ساعات العمل بالإنجليزية')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'معلومات الاتصال',
                'verbose_name_plural': 'معلومات الاتصال',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Coupon',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='كود الكوبون')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الكوبون')),
                ('description', models.TextField(blank=True, verbose_name='الوصف')),
                ('discount_type', models.CharField(choices=[('percentage', 'نسبة مئوية'), ('fixed', 'مبلغ ثابت')], max_length=10, verbose_name='نوع الخصم')),
                ('discount_value', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='قيمة الخصم')),
                ('minimum_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='الحد الأدنى للمبلغ')),
                ('maximum_discount', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='الحد الأقصى للخصم')),
                ('usage_limit', models.PositiveIntegerField(blank=True, null=True, verbose_name='حد الاستخدام')),
                ('used_count', models.PositiveIntegerField(default=0, verbose_name='عدد مرات الاستخدام')),
                ('valid_from', models.DateTimeField(verbose_name='صالح من')),
                ('valid_until', models.DateTimeField(verbose_name='صالح حتى')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'كوبون',
                'verbose_name_plural': 'الكوبونات',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='HeroImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='العنوان')),
                ('title_en', models.CharField(max_length=200, verbose_name='العنوان بالإنجليزية')),
                ('description', models.TextField(blank=True, verbose_name='الوصف')),
                ('description_en', models.TextField(blank=True, verbose_name='الوصف بالإنجليزية')),
                ('image', models.ImageField(upload_to='hero/', verbose_name='الصورة')),
                ('link_url', models.URLField(blank=True, verbose_name='رابط')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشطة')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='ترتيب العرض')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'صورة رئيسية',
                'verbose_name_plural': 'الصور الرئيسية',
                'ordering': ['order', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NewsletterSubscriber',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('email', models.EmailField(max_length=254, unique=True, verbose_name='البريد الإلكتروني')),
                ('name', models.CharField(blank=True, max_length=100, verbose_name='الاسم')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('subscribed_at', models.DateTimeField(auto_now_add=True)),
                ('unsubscribed_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'مشترك النشرة الإخبارية',
                'verbose_name_plural': 'مشتركو النشرة الإخبارية',
                'ordering': ['-subscribed_at'],
            },
        ),
        migrations.CreateModel(
            name='ServiceCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الفئة')),
                ('icon', models.CharField(blank=True, help_text='اسم أيقونة FontAwesome أو emoji', max_length=50, verbose_name='أيقونة')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='ترتيب العرض')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشطة')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'فئة الخدمات',
                'verbose_name_plural': 'فئات الخدمات',
                'ordering': ['order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Testimonial',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('customer_name', models.CharField(max_length=100, verbose_name='اسم العميل')),
                ('customer_name_en', models.CharField(blank=True, max_length=100, verbose_name='اسم العميل بالإنجليزية')),
                ('testimonial_text', models.TextField(verbose_name='نص الشهادة')),
                ('testimonial_text_en', models.TextField(blank=True, verbose_name='نص الشهادة بالإنجليزية')),
                ('rating', models.IntegerField(choices=[(1, '⭐'), (2, '⭐⭐'), (3, '⭐⭐⭐'), (4, '⭐⭐⭐⭐'), (5, '⭐⭐⭐⭐⭐')], default=5, verbose_name='التقييم')),
                ('customer_image', models.ImageField(blank=True, null=True, upload_to='testimonials/', verbose_name='صورة العميل')),
                ('service_used', models.CharField(blank=True, max_length=200, verbose_name='الخدمة المستخدمة')),
                ('is_featured', models.BooleanField(default=False, verbose_name='مميز')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='ترتيب العرض')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'شهادة عميل',
                'verbose_name_plural': 'شهادات العملاء',
                'ordering': ['order', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BlogAuthor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bio', models.TextField(blank=True, verbose_name='نبذة شخصية')),
                ('bio_en', models.TextField(blank=True, verbose_name='نبذة شخصية بالإنجليزية')),
                ('profile_image', models.ImageField(blank=True, null=True, upload_to='blog/authors/', verbose_name='صورة الملف الشخصي')),
                ('social_instagram', models.URLField(blank=True, verbose_name='إنستغرام')),
                ('social_facebook', models.URLField(blank=True, verbose_name='فيسبوك')),
                ('social_twitter', models.URLField(blank=True, verbose_name='تويتر')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='المستخدم')),
            ],
            options={
                'verbose_name': 'كاتب المدونة',
                'verbose_name_plural': 'كتاب المدونة',
                'ordering': ['user__first_name', 'user__last_name'],
            },
        ),
        migrations.CreateModel(
            name='BlogPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='العنوان')),
                ('title_en', models.CharField(blank=True, max_length=200, verbose_name='العنوان بالإنجليزية')),
                ('slug', models.SlugField(max_length=200, unique=True, verbose_name='الرابط')),
                ('excerpt', models.TextField(verbose_name='الملخص')),
                ('excerpt_en', models.TextField(blank=True, verbose_name='الملخص بالإنجليزية')),
                ('content', models.TextField(verbose_name='المحتوى')),
                ('content_en', models.TextField(blank=True, verbose_name='المحتوى بالإنجليزية')),
                ('featured_image', models.ImageField(upload_to='blog/posts/', verbose_name='الصورة المميزة')),
                ('featured_image_alt', models.CharField(blank=True, max_length=200, verbose_name='نص بديل للصورة')),
                ('status', models.CharField(choices=[('draft', 'مسودة'), ('published', 'منشور'), ('archived', 'مؤرشف')], default='draft', max_length=20, verbose_name='الحالة')),
                ('is_featured', models.BooleanField(default=False, verbose_name='مميز')),
                ('is_trending', models.BooleanField(default=False, verbose_name='رائج')),
                ('read_time', models.PositiveIntegerField(default=5, verbose_name='وقت القراءة (بالدقائق)')),
                ('views', models.PositiveIntegerField(default=0, verbose_name='عدد المشاهدات')),
                ('likes', models.PositiveIntegerField(default=0, verbose_name='عدد الإعجابات')),
                ('comments_count', models.PositiveIntegerField(default=0, verbose_name='عدد التعليقات')),
                ('tags', models.CharField(blank=True, help_text='افصل بين العلامات بفاصلة', max_length=500, verbose_name='العلامات')),
                ('meta_description', models.CharField(blank=True, max_length=160, verbose_name='وصف SEO')),
                ('meta_keywords', models.CharField(blank=True, max_length=500, verbose_name='كلمات مفتاحية SEO')),
                ('published_at', models.DateTimeField(blank=True, null=True, verbose_name='تاريخ النشر')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('author', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='posts', to='salon.blogauthor', verbose_name='الكاتب')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='posts', to='salon.blogcategory', verbose_name='الفئة')),
            ],
            options={
                'verbose_name': 'مقال المدونة',
                'verbose_name_plural': 'مقالات المدونة',
                'ordering': ['-published_at', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BlogComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='الاسم')),
                ('email', models.EmailField(max_length=254, verbose_name='البريد الإلكتروني')),
                ('content', models.TextField(verbose_name='التعليق')),
                ('is_approved', models.BooleanField(default=False, verbose_name='موافق عليه')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='salon.blogpost', verbose_name='المقال')),
            ],
            options={
                'verbose_name': 'تعليق المدونة',
                'verbose_name_plural': 'تعليقات المدونة',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Booking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('booking_date', models.DateField(verbose_name='تاريخ الحجز')),
                ('booking_time', models.TimeField(verbose_name='وقت الحجز')),
                ('status', models.CharField(choices=[('pending_payment', 'في انتظار الدفع'), ('pending', 'في الانتظار'), ('confirmed', 'مؤكد'), ('in_progress', 'جاري التنفيذ'), ('completed', 'مكتمل'), ('cancelled', 'ملغي')], default='pending_payment', max_length=20, verbose_name='الحالة')),
                ('payment_method', models.CharField(choices=[('cash', 'نقدي')], max_length=20, verbose_name='طريقة الدفع')),
                ('special_requests', models.TextField(blank=True, verbose_name='طلبات خاصة')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='السعر')),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='مبلغ الخصم')),
                ('final_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='السعر النهائي')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reschedule_count', models.PositiveIntegerField(default=0, verbose_name='عدد مرات إعادة الجدولة')),
                ('max_reschedules', models.PositiveIntegerField(default=2, verbose_name='الحد الأقصى لإعادة الجدولة')),
                ('can_reschedule', models.BooleanField(default=True, verbose_name='يمكن إعادة الجدولة')),
                ('payment_status', models.CharField(choices=[('pending', 'في الانتظار'), ('partial', 'دفع جزئي'), ('paid', 'مدفوع'), ('failed', 'فشل الدفع'), ('refunded', 'مسترد')], default='pending', max_length=20, verbose_name='حالة الدفع')),
                ('payment_reference', models.CharField(blank=True, max_length=100, verbose_name='مرجع الدفع')),
                ('reference', models.CharField(blank=True, default='', help_text='مرجع فريد للحجز', max_length=255, unique=True, verbose_name='مرجع الحجز')),
                ('payment_date', models.DateTimeField(blank=True, null=True, verbose_name='تاريخ الدفع')),
                ('refund_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='مبلغ الاسترداد')),
                ('refund_date', models.DateTimeField(blank=True, null=True, verbose_name='تاريخ الاسترداد')),
                ('address', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='salon.address', verbose_name='العنوان')),
                ('coupon', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='salon.coupon', verbose_name='الكوبون')),
            ],
            options={
                'verbose_name': 'حجز',
                'verbose_name_plural': 'الحجوزات',
                'ordering': ['-booking_date', '-booking_time'],
            },
        ),
        migrations.CreateModel(
            name='BookingRescheduleHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('old_date', models.DateField(verbose_name='التاريخ السابق')),
                ('old_time', models.TimeField(verbose_name='الوقت السابق')),
                ('new_date', models.DateField(verbose_name='التاريخ الجديد')),
                ('new_time', models.TimeField(verbose_name='الوقت الجديد')),
                ('reason', models.TextField(blank=True, verbose_name='سبب إعادة الجدولة')),
                ('rescheduled_by', models.CharField(max_length=100, verbose_name='أعيدت الجدولة بواسطة')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ إعادة الجدولة')),
                ('booking', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reschedule_history', to='salon.booking', verbose_name='الحجز')),
            ],
            options={
                'verbose_name': 'تاريخ إعادة الجدولة',
                'verbose_name_plural': 'تاريخ إعادة الجدولة',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Customer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='الاسم')),
                ('email', models.EmailField(max_length=254, verbose_name='البريد الإلكتروني')),
                ('is_phone_verified', models.BooleanField(default=False, verbose_name='تم التحقق من الهاتف')),
                ('phone', models.CharField(max_length=20, verbose_name='رقم الهاتف')),
                ('date_of_birth', models.DateField(blank=True, null=True, verbose_name='تاريخ الميلاد')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='المستخدم')),
            ],
            options={
                'verbose_name': 'عميل',
                'verbose_name_plural': 'العملاء',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='booking',
            name='customer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='bookings', to='salon.customer', verbose_name='العميل'),
        ),
        migrations.AddField(
            model_name='address',
            name='customer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='addresses', to='salon.customer', verbose_name='العميل'),
        ),
        migrations.CreateModel(
            name='CustomerOTP',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=6, verbose_name='كود التحقق')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='salon.customer', verbose_name='العميل')),
            ],
        ),
        migrations.CreateModel(
            name='NotificationSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('email_booking_created', models.BooleanField(default=True, verbose_name='إشعارات البريد الإلكتروني للحجوزات الجديدة')),
                ('email_booking_confirmed', models.BooleanField(default=True, verbose_name='إشعارات البريد الإلكتروني لتأكيد الحجوزات')),
                ('email_booking_cancelled', models.BooleanField(default=True, verbose_name='إشعارات البريد الإلكتروني لإلغاء الحجوزات')),
                ('email_booking_rescheduled', models.BooleanField(default=True, verbose_name='إشعارات البريد الإلكتروني لإعادة جدولة الحجوزات')),
                ('email_payment_received', models.BooleanField(default=True, verbose_name='إشعارات البريد الإلكتروني لاستلام المدفوعات')),
                ('email_reminders', models.BooleanField(default=True, verbose_name='إشعارات البريد الإلكتروني للتذكيرات')),
                ('in_app_notifications', models.BooleanField(default=True, verbose_name='الإشعارات داخل التطبيق')),
                ('push_notifications', models.BooleanField(default=True, verbose_name='الإشعارات الفورية')),
                ('reminder_hours_before', models.PositiveIntegerField(default=24, verbose_name='ساعات التذكير قبل الموعد')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='notification_settings', to=settings.AUTH_USER_MODEL, verbose_name='المستخدم')),
            ],
            options={
                'verbose_name': 'إعدادات الإشعارات',
                'verbose_name_plural': 'إعدادات الإشعارات',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PasswordResetToken',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('token', models.UUIDField(default=uuid.uuid4, editable=False, unique=True, verbose_name='Token')),
                ('expires_at', models.DateTimeField(verbose_name='Expires At')),
                ('status', models.CharField(choices=[('active', 'Active'), ('verified', 'Verified'), ('invalidated', 'Invalidated')], default='active', max_length=11, verbose_name='Status')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='password_reset_tokens', to=settings.AUTH_USER_MODEL, verbose_name='User')),
            ],
            options={
                'verbose_name': 'Password Reset Token',
                'verbose_name_plural': 'Password Reset Tokens',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PaymentHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='المبلغ')),
                ('payment_method', models.CharField(max_length=20, verbose_name='طريقة الدفع')),
                ('payment_reference', models.CharField(blank=True, max_length=100, verbose_name='مرجع الدفع')),
                ('status', models.CharField(choices=[('pending', 'في الانتظار'), ('success', 'نجح'), ('failed', 'فشل'), ('refunded', 'مسترد')], default='pending', max_length=20, verbose_name='حالة الدفع')),
                ('transaction_id', models.CharField(blank=True, max_length=100, verbose_name='رقم المعاملة')),
                ('gateway_response', models.TextField(blank=True, verbose_name='استجابة البوابة')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الدفع')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('booking', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payment_history', to='salon.booking', verbose_name='الحجز')),
            ],
            options={
                'verbose_name': 'تاريخ الدفع',
                'verbose_name_plural': 'تاريخ المدفوعات',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Service',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='اسم الخدمة')),
                ('name_en', models.CharField(max_length=200, verbose_name='اسم الخدمة بالإنجليزية')),
                ('description', models.TextField(verbose_name='وصف الخدمة')),
                ('description_en', models.TextField(verbose_name='وصف الخدمة بالإنجليزية')),
                ('duration', models.CharField(max_length=50, verbose_name='المدة')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='السعر')),
                ('image', models.ImageField(blank=True, null=True, upload_to='services/', verbose_name='صورة الخدمة')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشطة')),
                ('is_featured', models.BooleanField(default=False, verbose_name='مميزة')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='ترتيب العرض')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('categories', models.ManyToManyField(help_text='يمكن اختيار أكثر من فئة', related_name='services', to='salon.category', verbose_name='الفئات')),
            ],
            options={
                'verbose_name': 'خدمة',
                'verbose_name_plural': 'الخدمات',
                'ordering': ['order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Offer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='عنوان العرض')),
                ('title_en', models.CharField(blank=True, max_length=200, verbose_name='عنوان العرض بالإنجليزية')),
                ('description', models.TextField(verbose_name='وصف العرض')),
                ('description_en', models.TextField(blank=True, verbose_name='وصف العرض بالإنجليزية')),
                ('short_description', models.CharField(max_length=300, verbose_name='وصف مختصر')),
                ('short_description_en', models.CharField(blank=True, max_length=300, verbose_name='وصف مختصر بالإنجليزية')),
                ('offer_type', models.CharField(choices=[('percentage', 'نسبة مئوية'), ('fixed', 'مبلغ ثابت'), ('package', 'بكج'), ('free_service', 'خدمة مجانية')], default='percentage', max_length=20, verbose_name='نوع العرض')),
                ('discount_value', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='قيمة الخصم')),
                ('original_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='السعر الأصلي')),
                ('offer_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='سعر العرض')),
                ('image', models.ImageField(upload_to='offers/', verbose_name='صورة العرض')),
                ('thumbnail', models.ImageField(blank=True, null=True, upload_to='offers/thumbnails/', verbose_name='صورة مصغرة')),
                ('valid_from', models.DateTimeField(verbose_name='صالح من')),
                ('valid_until', models.DateTimeField(verbose_name='صالح حتى')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('is_featured', models.BooleanField(default=False, verbose_name='مميز')),
                ('is_new', models.BooleanField(default=False, verbose_name='جديد')),
                ('terms_conditions', models.TextField(blank=True, verbose_name='الشروط والأحكام')),
                ('terms_conditions_en', models.TextField(blank=True, verbose_name='الشروط والأحكام بالإنجليزية')),
                ('usage_limit', models.PositiveIntegerField(blank=True, null=True, verbose_name='حد الاستخدام')),
                ('used_count', models.PositiveIntegerField(default=0, verbose_name='عدد مرات الاستخدام')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='ترتيب العرض')),
                ('card_color', models.CharField(default='#B89F67', help_text='أدخل لون البطاقة بصيغة HEX (مثل: #B89F67)', max_length=7, verbose_name='لون البطاقة')),
                ('text_color', models.CharField(default='#8B4513', help_text='أدخل لون النص بصيغة HEX (مثل: #8B4513)', max_length=7, verbose_name='لون النص')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('categories', models.ManyToManyField(blank=True, to='salon.category', verbose_name='الفئات المشمولة')),
                ('services', models.ManyToManyField(blank=True, to='salon.service', verbose_name='الخدمات المشمولة')),
            ],
            options={
                'verbose_name': 'عرض',
                'verbose_name_plural': 'العروض',
                'ordering': ['order', '-is_featured', '-created_at'],
            },
        ),
        migrations.AddField(
            model_name='booking',
            name='service',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='salon.service', verbose_name='الخدمة'),
        ),
        migrations.CreateModel(
            name='AppointmentRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(help_text='The date of the appointment request.', verbose_name='Date')),
                ('start_time', models.TimeField(help_text='The start time of the appointment request.', verbose_name='Start Time')),
                ('end_time', models.TimeField(help_text='The end time of the appointment request.', verbose_name='End Time')),
                ('payment_type', models.CharField(choices=[('full', 'Full payment'), ('down', 'Down payment')], default='full', max_length=4, verbose_name='Payment Type')),
                ('id_request', models.CharField(blank=True, max_length=100, null=True, verbose_name='Request ID')),
                ('reschedule_attempts', models.PositiveIntegerField(default=0, help_text='Number of times this appointment has been rescheduled.', verbose_name='Reschedule Attempts')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='salon.customer', verbose_name='Customer')),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='salon.service', verbose_name='Service')),
            ],
            options={
                'verbose_name': 'Appointment Request',
                'verbose_name_plural': 'Appointment Requests',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ServiceItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='عنوان الخدمة')),
                ('order', models.PositiveIntegerField(default=0, verbose_name='ترتيب العرض')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='salon.servicecategory', verbose_name='الفئة')),
            ],
            options={
                'verbose_name': 'عنصر الخدمة',
                'verbose_name_plural': 'عناصر الخدمات',
                'ordering': ['category', 'order', 'title'],
            },
        ),
        migrations.CreateModel(
            name='Staff',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='الاسم')),
                ('name_en', models.CharField(max_length=100, verbose_name='الاسم بالإنجليزية')),
                ('specialization', models.CharField(max_length=200, verbose_name='التخصص')),
                ('specialization_en', models.CharField(max_length=200, verbose_name='التخصص بالإنجليزية')),
                ('bio', models.TextField(blank=True, verbose_name='نبذة')),
                ('bio_en', models.TextField(blank=True, verbose_name='نبذة بالإنجليزية')),
                ('image', models.ImageField(blank=True, null=True, upload_to='staff/', verbose_name='الصورة')),
                ('rating', models.DecimalField(decimal_places=2, default=5.0, max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='التقييم')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('slot_duration', models.PositiveIntegerField(blank=True, help_text='Minimum time for an appointment in minutes, recommended 30.', null=True, verbose_name='Slot Duration (minutes)')),
                ('lead_time', models.TimeField(blank=True, help_text='Time when the staff member starts working.', null=True, verbose_name='Lead Time')),
                ('finish_time', models.TimeField(blank=True, help_text='Time when the staff member stops working.', null=True, verbose_name='Finish Time')),
                ('appointment_buffer_time', models.FloatField(blank=True, help_text='Time between now and the first available slot for the current day.', null=True, verbose_name='Appointment Buffer Time (minutes)')),
                ('work_on_saturday', models.BooleanField(default=False, help_text='Indicates whether this staff member works on Saturdays.', verbose_name='Work on Saturday')),
                ('work_on_sunday', models.BooleanField(default=False, help_text='Indicates whether this staff member works on Sundays.', verbose_name='Work on Sunday')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('services', models.ManyToManyField(blank=True, to='salon.service', verbose_name='الخدمات')),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='User')),
            ],
            options={
                'verbose_name': 'موظف',
                'verbose_name_plural': 'الموظفون',
                'ordering': ['-rating', 'name'],
            },
        ),
        migrations.CreateModel(
            name='DayOff',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_date', models.DateField(verbose_name='Start Date')),
                ('end_date', models.DateField(verbose_name='End Date')),
                ('description', models.CharField(blank=True, max_length=255, null=True, verbose_name='Description')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('staff', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='salon.staff', verbose_name='Staff Member')),
            ],
            options={
                'verbose_name': 'Day Off',
                'verbose_name_plural': 'Days Off',
                'ordering': ['-start_date'],
            },
        ),
        migrations.AddField(
            model_name='booking',
            name='staff',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='salon.staff', verbose_name='الموظف'),
        ),
        migrations.CreateModel(
            name='AppointmentRescheduleHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(help_text='The previous date of the appointment before it was rescheduled.', verbose_name='Date')),
                ('start_time', models.TimeField(help_text='The previous start time of the appointment before it was rescheduled.', verbose_name='Start Time')),
                ('end_time', models.TimeField(help_text='The previous end time of the appointment before it was rescheduled.', verbose_name='End Time')),
                ('reason_for_rescheduling', models.TextField(blank=True, help_text='Reason for the appointment reschedule.', null=True, verbose_name='Reason for Rescheduling')),
                ('reschedule_status', models.CharField(choices=[('pending', 'Pending'), ('confirmed', 'Confirmed')], default='pending', max_length=10, verbose_name='Reschedule Status')),
                ('id_request', models.CharField(blank=True, max_length=100, null=True, verbose_name='Request ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('appointment_request', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reschedule_histories', to='salon.appointmentrequest', verbose_name='Appointment Request')),
                ('staff', models.ForeignKey(help_text='The previous staff member of the appointment before it was rescheduled.', null=True, on_delete=django.db.models.deletion.SET_NULL, to='salon.staff', verbose_name='Staff Member')),
            ],
            options={
                'verbose_name': 'Appointment Reschedule History',
                'verbose_name_plural': 'Appointment Reschedule Histories',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='appointmentrequest',
            name='staff',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='salon.staff', verbose_name='Staff Member'),
        ),
        migrations.CreateModel(
            name='AdminSlotAvailability',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(verbose_name='التاريخ')),
                ('time', models.TimeField(verbose_name='الوقت')),
                ('is_available', models.BooleanField(default=True, verbose_name='متاح')),
                ('max_bookings', models.PositiveIntegerField(default=1, help_text='عدد الحجوزات المسموح بها في هذا الوقت', verbose_name='الحد الأقصى للحجوزات')),
                ('current_bookings', models.PositiveIntegerField(default=0, verbose_name='الحجوزات الحالية')),
                ('notes', models.TextField(blank=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='admin_slots', to='salon.service', verbose_name='الخدمة')),
                ('staff', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='salon.staff', verbose_name='الموظف المخصص')),
            ],
            options={
                'verbose_name': 'إدارة المواعيد المتاحة',
                'verbose_name_plural': 'إدارة المواعيد المتاحة',
                'ordering': ['date', 'time'],
            },
        ),
        migrations.CreateModel(
            name='WorkingHours',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('day_of_week', models.PositiveIntegerField(choices=[(0, 'Sunday'), (1, 'Monday'), (2, 'Tuesday'), (3, 'Wednesday'), (4, 'Thursday'), (5, 'Friday'), (6, 'Saturday')], verbose_name='Day of Week')),
                ('start_time', models.TimeField(verbose_name='Start Time')),
                ('end_time', models.TimeField(verbose_name='End Time')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('staff', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='salon.staff', verbose_name='Staff Member')),
            ],
            options={
                'verbose_name': 'Working Hour',
                'verbose_name_plural': 'Working Hours',
                'ordering': ['day_of_week', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='عنوان الإشعار')),
                ('message', models.TextField(verbose_name='رسالة الإشعار')),
                ('notification_type', models.CharField(choices=[('booking_created', 'حجز جديد'), ('booking_confirmed', 'تأكيد الحجز'), ('booking_cancelled', 'إلغاء الحجز'), ('booking_rescheduled', 'إعادة جدولة الحجز'), ('payment_received', 'استلام الدفع'), ('reminder', 'تذكير بالموعد'), ('system', 'إشعار نظام')], max_length=20, verbose_name='نوع الإشعار')),
                ('priority', models.CharField(choices=[('low', 'منخفض'), ('medium', 'متوسط'), ('high', 'عالي'), ('urgent', 'عاجل')], default='medium', max_length=10, verbose_name='الأولوية')),
                ('is_read', models.BooleanField(default=False, verbose_name='مقروء')),
                ('is_sent', models.BooleanField(default=False, verbose_name='مرسل')),
                ('sent_at', models.DateTimeField(blank=True, null=True, verbose_name='تاريخ الإرسال')),
                ('action_url', models.URLField(blank=True, verbose_name='رابط الإجراء')),
                ('metadata', models.JSONField(blank=True, default=dict, verbose_name='بيانات إضافية')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('booking', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='salon.booking', verbose_name='الحجز')),
                ('customer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='salon.customer', verbose_name='العميل')),
                ('staff', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='salon.staff', verbose_name='الموظف')),
            ],
            options={
                'verbose_name': 'إشعار',
                'verbose_name_plural': 'الإشعارات',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['is_read', 'created_at'], name='salon_notif_is_read_668b52_idx'), models.Index(fields=['notification_type', 'created_at'], name='salon_notif_notific_1d87fd_idx'), models.Index(fields=['customer', 'is_read'], name='salon_notif_custome_e81e5e_idx'), models.Index(fields=['staff', 'is_read'], name='salon_notif_staff_i_0ce14c_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='appointmentrequest',
            index=models.Index(fields=['date', 'start_time'], name='salon_appoi_date_f3510b_idx'),
        ),
        migrations.AddIndex(
            model_name='appointmentrequest',
            index=models.Index(fields=['staff', 'date'], name='salon_appoi_staff_i_f8c087_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='adminslotavailability',
            unique_together={('service', 'date', 'time')},
        ),
        migrations.AddConstraint(
            model_name='workinghours',
            constraint=models.CheckConstraint(condition=models.Q(('start_time__lt', models.F('end_time'))), name='start_time_before_end_time'),
        ),
        migrations.AlterUniqueTogether(
            name='workinghours',
            unique_together={('staff', 'day_of_week')},
        ),
    ]
